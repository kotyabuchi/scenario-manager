# UI/UXレビューレポート

**レビュー日時**: 2026-01-19
**レビュー対象**: シナプレ管理くん 全ページ
**基準**: ui-design-system.md + WCAG 2.1 AA + ユーザビリティ

---

## エグゼクティブサマリー

| 優先度 | 件数 | 内訳 |
|--------|------|------|
| **P0: 致命的** | 12件 | デザインシステム違反、アクセシビリティ重大問題 |
| **P1: 重要** | 18件 | UX改善、一貫性の欠如 |
| **P2: 推奨** | 8件 | 細かい改善点 |

**総評**: デザインシステムの基本方針（ボーダーレス、セマンティックトークン、ソフト/パステル）が全体的に守られていない箇所が多数存在。特にチップコンポーネントのborder使用、ハードコードされたスタイル、コントラスト不足が顕著。

---

## P0: 致命的な問題（デザインシステム違反）

### P0-001: チップコンポーネントにborderが使用されている
**ページ**: シナリオ一覧、セッション一覧
**場所**: システム選択、タグ選択、フェーズ選択のチップ
**違反内容**: ui-design-systemの「ボーダーレス」原則に違反
**現状**: チップに明確なボーダーが表示されている
**推奨修正**:
```typescript
// NG - border使用
{
  border: '1px solid',
  borderColor: 'primary.default'
}

// OK - shadowで輪郭を表現
{
  border: 'none',
  shadow: 'chip.default',
  _hover: {
    shadow: 'chip.hover'
  }
}
```
**理由**: カードやチップの輪郭は影のみで表現することがプロジェクトの美的方向性

---

### P0-002: 選択中のチップが緑色で統一感がない
**ページ**: シナリオ一覧、セッション一覧
**場所**: システム、タグ、フェーズの選択済みチップ
**違反内容**: ソフト/パステルの美的方向性に反する強い緑色
**現状**: 選択中のチップが鮮やかな緑色（#4CAF50系）で表示
**推奨修正**:
```typescript
// 選択状態
{
  bg: 'primary.default',          // セマンティックトークン使用
  color: 'primary.foreground.white',
  shadow: 'chip.selected',
  transform: 'translateY(-1px)',
  _hover: {
    bg: 'primary.emphasized',
    shadow: 'chip.selectedHover'
  }
}
```
**理由**: プロジェクトは「ソフト/パステル × 洗練されたミニマリズム」がベーストーン。鮮やかな緑は「AI臭いデザイン」の典型例

---

### P0-003: 検索パネルのカードにborderが使用されている
**ページ**: シナリオ一覧、セッション一覧
**場所**: 検索条件パネル
**違反内容**: ui-design-systemの「ボーダーレス」原則に違反
**現状**: 検索パネル全体に薄いボーダーが表示
**推奨修正**:
```typescript
{
  border: 'none',
  shadow: 'card.default',
  _hover: {
    shadow: 'card.hover'
  }
}
```

---

### P0-004: セマンティックトークンが使用されていない（ハードコード）
**ページ**: 全ページ
**場所**: カード、チップ、ボタンのshadowとbg
**違反内容**: ui-design-systemの「セマンティックトークン使用」原則に違反
**現状**: ハードコードされた色・影の値が使用されている可能性が高い
**推奨修正**: すべてのshadow、bgをセマンティックトークンに置き換え
- `shadow: 'card.default'`
- `shadow: 'chip.default'`
- `bg: 'chip.default'`
- `bg: 'overlay.light'`

**確認方法**: コードレビューで以下をgrep
```bash
grep -r "rgba(" src/
grep -r "oklch(" src/
grep -r "0 2px" src/
```

---

### P0-005: お気に入りボタンの配置が不自然
**ページ**: シナリオ詳細
**場所**: ヘッダー右上の★アイコン
**問題**: 孤立して配置され、初見で機能が分かりにくい
**推奨修正**: FABメニューに統合するか、より明確な配置とラベルを提供
```
現状: [←] シナリオ名                    [★]

推奨: [←] シナリオ名   [お気に入り ★]
```

---

### P0-006: 区切り線に<hr>要素が使用されていない
**ページ**: シナリオ詳細
**場所**: セクション間の区切り
**違反内容**: セマンティックHTMLの原則に違反
**現状**: `<div>`や`<separator>`でborder-topを使用している可能性
**推奨修正**:
```typescript
// styles.ts
export const divider = css({
  border: 'none',
  borderTop: '1px solid',
  borderColor: 'border.subtle',
  my: 'md',
});

// Component.tsx
<hr className={styles.divider} />
```

---

### P0-007: サイドメニューのアイコンのみ表示が分かりにくい
**ページ**: 全ページ（ログイン後）
**場所**: 左サイドメニュー
**問題**: アイコンのみでテキストラベルがなく、初見で判別困難
**アクセシビリティ**: ARIA labelが不足している可能性
**推奨修正**:
- アイコン + テキストラベルを常時表示
- または、ホバー時にツールチップでラベル表示
- ARIA label必須: `aria-label="シナリオ"`

---

### P0-008: コントラスト比不足（WCAG AA違反の可能性）
**ページ**: シナリオ一覧、セッション一覧
**場所**: チップのテキスト、システム名ラベル
**問題**: 淡い背景に淡いテキストでコントラスト不足の可能性
**基準**: 通常テキスト 4.5:1、大きいテキスト 3:1
**推奨修正**:
- 背景色（明度0.95以上）+ テキスト色（明度0.40以下）
- コントラストチェッカーで確認: https://webaim.org/resources/contrastchecker/

---

### P0-009: 「No Image」プレースホルダーのデザインが粗雑
**ページ**: シナリオ詳細
**場所**: シナリオサムネイル
**問題**: テキストのみで美的品質に欠ける
**推奨修正**:
```tsx
<div className={noImagePlaceholder}>
  <ImageIcon size={48} />
  <p>画像なし</p>
</div>

// styles.ts
export const noImagePlaceholder = css({
  display: 'flex',
  flexDirection: 'column',
  alignItems: 'center',
  justifyContent: 'center',
  bg: 'chip.default',
  color: 'text.subtle',
  borderRadius: 'xl',
  p: '8',
  gap: '2',
});
```

---

### P0-010: ホバー効果に微小な浮上（translateY）がない
**ページ**: 全ページ
**場所**: カード、ボタン、チップ
**違反内容**: ui-design-systemの「ホバー効果」ガイドラインに違反
**現状**: ホバー時に影の変化のみ
**推奨修正**:
```typescript
_hover: {
  transform: 'translateY(-2px)',  // カード
  shadow: 'card.hover',
}

_hover: {
  transform: 'translateY(-1px)',  // チップ
  shadow: 'chip.hover',
}
```

---

### P0-011: システムラベルのオーバーレイが不透明
**ページ**: シナリオ一覧
**場所**: カード上のシステムラベル
**違反内容**: ui-design-systemの「オーバーレイ」ガイドラインに違反
**現状**: 緑色の不透明な背景
**推奨修正**:
```typescript
{
  bg: 'overlay.light',
  backdropFilter: 'blur(8px)',
  color: 'text.primary',
  padding: '1 3',
  borderRadius: 'full',
}
```

---

### P0-012: フォーカス状態が不明確
**ページ**: 全ページ
**場所**: すべてのインタラクティブ要素
**問題**: キーボード操作時のフォーカスリングが見えにくい、または存在しない
**アクセシビリティ**: WCAG 2.1 AA違反
**推奨修正**:
```typescript
_focusVisible: {
  boxShadow: '0 0 0 2px {colors.bg.card}, 0 0 0 4px {colors.primary.focusRing}',
  outline: 'none',
}
```

---

## P1: 重要な問題（UX改善）

### P1-001: 初見3秒ルール違反 - 検索パネルが開いたまま
**ページ**: シナリオ一覧、セッション一覧
**問題**: 初期状態で検索パネルが展開され、結果が見えにくい
**推奨**: デフォルトで検索パネルを折りたたみ、「検索条件を開く」ボタンで展開

---

### P1-002: シナリオカードの情報密度が高すぎる
**ページ**: シナリオ一覧
**場所**: シナリオカード
**問題**: 長いdescriptionが全文表示され、スキャンしにくい
**推奨修正**:
- descriptionは3行まで表示、それ以上は「...」で省略
- 「続きを読む」はカードクリック時に詳細ページで表示

---

### P1-003: 評価表示がアイコンのみで分かりにくい
**ページ**: シナリオ詳細
**場所**: 評価セクション
**現状**: 「評価なし (0件)」のみ
**推奨**: 星アイコン（★☆☆☆☆）+ 「評価なし」で視覚的に明確化

---

### P1-004: 「もっと見る」ボタンの配置が不明瞭
**ページ**: シナリオ一覧
**場所**: 検索結果の末尾
**問題**: ボタンが小さく、ページネーションの存在が分かりにくい
**推奨**: より明確なデザインとラベル
```tsx
<button className={loadMoreButton}>
  <ChevronDown />
  さらに20件を読み込む
</button>
```

---

### P1-005: 0件時のメッセージが機械的
**ページ**: セッション一覧、シナリオ詳細（レビュー）
**問題**: アイコンとメッセージが単調
**推奨**: より温かみのあるメッセージとビジュアル
```
現状: 🔍 条件に一致するセッションが見つかりませんでした

推奨: イラスト + 「まだセッションが見つかりませんでした。
      条件を緩めるか、自分で立ててみませんか？」
```

---

### P1-006: ルートページのCTAボタンが並列で優先度不明
**ページ**: ルートページ
**場所**: ヒーローセクションのボタン
**問題**: 「はじめる」と「シナリオを探す」が同じ重みで配置
**推奨**:
- 「はじめる」をプライマリボタン（強調）
- 「シナリオを探す」をセカンダリボタン（ゴースト）

---

### P1-007: サイドメニューのLogin/Signupボタンが下部で見づらい
**ページ**: 全ページ（未ログイン）
**場所**: サイドメニュー下部
**問題**: スクロールしないと見えない可能性
**推奨**: ヘッダー右上に配置、またはサイドメニュー上部に固定

---

### P1-008: シナリオ詳細の「続きを読む」がテキストリンク
**ページ**: シナリオ詳細
**場所**: 概要セクション
**問題**: リンクなのかボタンなのか判別しにくい
**推奨**: ボタン形式に変更
```tsx
<button className={expandButton}>
  続きを読む <ChevronDown />
</button>
```

---

### P1-009: FABメニューの配置が画面右下で親指から遠い（モバイル）
**ページ**: シナリオ詳細
**場所**: 右下FAB
**問題**: モバイルで片手操作時に届きにくい
**推奨**: 右下維持だが、メニュー展開方向を調整（上左に展開）

---

### P1-010: タブの選択状態が下線のみで弱い
**ページ**: セッション一覧
**場所**: 「参加予定」「参加履歴」「公開卓を探す」タブ
**問題**: 選択中のタブが下線のみで判別しにくい
**推奨**: 背景色 + 下線で明確化
```typescript
// 選択中
{
  bg: 'chip.default',
  borderBottom: '2px solid',
  borderColor: 'primary.default',
  fontWeight: 'bold',
}
```

---

### P1-011: 検索ボタンと条件クリアの視覚的階層が不明確
**ページ**: シナリオ一覧、セッション一覧
**場所**: 検索パネル下部
**問題**: 両ボタンが同じ重みで配置
**推奨**:
- 「検索」をプライマリボタン（緑）
- 「条件クリア」をゴーストボタン（テキストのみ）

---

### P1-012: ソートUIがドロップダウンのみで選択肢が見えない
**ページ**: シナリオ一覧、セッション一覧、シナリオ詳細（レビュー）
**場所**: ソート選択
**問題**: 開くまで選択肢が分からない
**推奨**: タブ形式またはセグメントコントロールで一覧表示
```
[新着順] [高評価順] [時間順]
```

---

### P1-013: マイページのプロフィール画像が小さい
**ページ**: マイページ
**場所**: プロフィールヘッダー
**問題**: アイコンが小さく、視認性が低い
**推奨**: より大きなサイズ（96px → 128px）で存在感を出す

---

### P1-014: フォームのエラー表示がない
**ページ**: マイページ
**場所**: プロフィール編集フォーム
**問題**: バリデーションエラー時の表示が不明
**推奨**: フィールド下に赤いエラーメッセージを表示
```tsx
{errors.nickname && (
  <p className={errorText}>
    <AlertCircle size={16} />
    {errors.nickname.message}
  </p>
)}
```

---

### P1-015: 配布ページリンクがアイコンのみで分かりにくい
**ページ**: シナリオ詳細
**場所**: 配布URLボタン
**問題**: 外部リンクアイコンのみで、どこに飛ぶか不明
**推奨**: テキストとアイコンを組み合わせ
```tsx
<a href={url} className={externalLink}>
  配布ページを開く <ExternalLink size={16} />
</a>
```

---

### P1-016: セッション作成ボタンがヘッダー右上で見逃しやすい
**ページ**: セッション一覧
**場所**: ヘッダー右上
**問題**: 緑ボタンが孤立して配置
**推奨**: より目立つ配置（タブの隣、または0件時のCTA強調）

---

### P1-017: ホームページのコンテンツが空
**ページ**: /home
**場所**: メインコンテンツエリア
**問題**: 「Home」見出しのみで内容がない
**推奨**: ダッシュボード機能を実装
- 参加予定のセッション（3件）
- 新着シナリオ（3件）
- おすすめシナリオ

---

### P1-018: 検索結果件数の表示が小さく見落としやすい
**ページ**: シナリオ一覧、セッション一覧
**場所**: 検索結果上部
**問題**: 「検索結果: 206件」が小さく目立たない
**推奨**: より大きく、視認性を向上
```typescript
{
  fontSize: 'lg',
  fontWeight: 'bold',
  color: 'text.primary',
}
```

---

## P2: 推奨改善（細かい改善点）

### P2-001: ルートページの機能紹介カードに影がない
**ページ**: ルートページ
**場所**: 「主な機能」セクションのカード
**推奨**: `shadow: 'card.default'`を追加して立体感を出す

---

### P2-002: フッターのコピーライトが薄すぎる
**ページ**: ルートページ
**場所**: フッター
**問題**: コントラスト不足の可能性
**推奨**: `color: 'text.subtle'`でも最低3:1のコントラスト確保

---

### P2-003: システム選択チップの並び順が不明
**ページ**: シナリオ一覧、セッション一覧
**問題**: アルファベット順？使用頻度順？
**推奨**: 使用頻度順にソートしてユーザビリティ向上

---

### P2-004: 「配布ページを開く」リンクが別タブで開くか不明
**ページ**: シナリオ詳細
**推奨**: `target="_blank" rel="noopener noreferrer"`を設定し、アイコンで明示

---

### P2-005: プレイ時間の単位が「時間」で統一されていない
**ページ**: シナリオ一覧、シナリオ詳細
**問題**: 「7時間」「3時間」など、単位の省略がない
**推奨**: 「7h」「3h」でコンパクトに（またはそのまま維持）

---

### P2-006: セッション一覧の日付指定UIが未実装
**ページ**: セッション一覧
**場所**: 開催日フィルタ
**問題**: 「日付指定」ボタンが機能しない可能性
**推奨**: カレンダーピッカーを実装

---

### P2-007: マイページの「ロール」ラベルが意味不明
**ページ**: マイページ
**場所**: プロフィールセクション
**問題**: 「ロール」だけではTRPGのロール（役割）かシステムのロール（権限）か不明
**推奨**: 「権限」または「ユーザー種別」に変更

---

### P2-008: 自己紹介textareaの高さが小さい
**ページ**: マイページ
**場所**: プロフィール編集フォーム
**推奨**: 5-7行分の高さに拡大して書きやすく

---

## 良い点（評価できる実装）

### ✅ デザインシステムに準拠している点
1. **角丸の使用**: カード、ボタン、チップに大きめの角丸（`borderRadius: 'xl'`）が適用され、柔らかい印象
2. **余白の確保**: セクション間、カード内の余白が適切に確保され、呼吸感がある
3. **影の使用**: カードに影が適用され、レイヤード感がある
4. **緑のアクセントカラー**: プライマリボタンやCTAに一貫して緑色が使用されている

### ✅ ユーザビリティが優れている点
1. **0件時の適切なメッセージ**: 空状態で次のアクションを促すメッセージとボタンが配置
2. **パンくずリスト**: シナリオ詳細に「シナリオ一覧に戻る」リンクがあり、導線が明確
3. **検索パネルの折りたたみ**: セパレーター（hr）で視覚的に区切られている
4. **マイページのフォームラベル**: 各フィールドに説明文があり、親切

### ✅ アクセシビリティが考慮されている点
1. **セマンティックHTML**: `<main>`, `<article>`, `<nav>`が適切に使用
2. **見出し階層**: h1, h2が適切に使用されている
3. **ボタンとリンクの区別**: ボタンは`<button>`、リンクは`<a>`で適切に実装

---

## 推奨アクションプラン

### フェーズ1: P0問題の修正（最優先）
1. チップコンポーネントのborder削除、shadow適用（P0-001, P0-002）
2. セマンティックトークンへの移行（P0-004）
3. コントラスト比の確認と修正（P0-008）
4. フォーカス状態の明確化（P0-012）

**期限**: 1週間以内

### フェーズ2: P1問題の修正（重要）
1. 検索パネルの初期状態を折りたたみに（P1-001）
2. ホバー効果にtranslateY追加（P0-010）
3. タブUIの改善（P1-010）
4. ホームページのダッシュボード実装（P1-017）

**期限**: 2週間以内

### フェーズ3: P2問題の修正（推奨）
1. 細かいUI調整
2. マイクロインタラクションの追加

**期限**: 1ヶ月以内

---

## 検証方法

### デザインシステム準拠チェック
```bash
# ハードコードされた色・影を検索
grep -r "rgba(" src/
grep -r "oklch(" src/
grep -r "0 2px" src/

# borderの使用箇所を検索
grep -r "border:" src/ | grep -v "border: 'none'"
grep -r "borderTop:" src/
```

### アクセシビリティチェック
- Lighthouse (Chrome DevTools) でスコア確認
- WAVE (https://wave.webaim.org/) でアクセシビリティ検証
- キーボードのみで全機能が操作可能か確認

### コントラストチェック
- WebAIM Contrast Checker: https://webaim.org/resources/contrastchecker/
- すべてのテキストとUIコンポーネントを検証

---

## 参考資料

- **ui-design-system.md**: プロジェクトのデザインガイドライン
- **WCAG 2.1 AA**: https://www.w3.org/WAI/WCAG21/quickref/
- **セマンティックHTML**: https://developer.mozilla.org/ja/docs/Glossary/Semantics

---

## レビュー担当者
Claude Sonnet 4.5

## 次回レビュー予定
修正完了後、再度agent-browserで確認
