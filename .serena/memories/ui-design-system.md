# UIデザインシステム

本プロジェクトのUIデザイン仕様。**UI実装時は必ずこのファイルを参照すること。**

> **コンポーネントの詳細な挙動**（ホイール操作、キーボード操作等）は `ui-component-behavior` メモリを参照。

テーマ: **モダン × ソフト × レイヤードUI** - 淡い青みがかった白背景、Tailwind Emerald（緑）ベース

---

## 1. カラーパレット（最重要）

すべての色は **HEX形式** で定義。Tailwindカラーパレットをベースとする。

### 背景色

```typescript
bg: {
  page: '#F5F7FA',        // ページ背景（淡い青みがかった白）
  card: '#FFFFFF',        // カード背景
  input: '#F3F4F6',       // 入力フィールド（gray.100）
  disabled: '#E5E7EB',    // 無効状態（gray.200）
}
```

### プライマリ（Tailwind Emerald）

```typescript
primary: {
  50:  '#ECFDF5',  // 最も淡い（選択状態の背景等）
  100: '#D1FAE5',  // チップ選択時
  200: '#A7F3D0',
  300: '#6EE7B7',
  400: '#34D399',
  500: '#10B981',  // メインカラー（ボタン、アクティブ状態）
  600: '#059669',  // ホバー時
  700: '#047857',  // アクティブ時
  800: '#065F46',  // テキスト用
}
```

### グレー

```typescript
gray: {
  50:  '#F9FAFB',  // 背景のバリエーション
  100: '#F3F4F6',  // 入力フィールド背景
  200: '#E5E7EB',  // ボーダー、無効状態
  300: '#D1D5DB',  // ボーダー
  400: '#9CA3AF',  // プレースホルダー
  500: '#6B7280',  // サブテキスト
  600: '#4B5563',
  700: '#374151',  // 本文テキスト
  800: '#1F2937',  // 見出しテキスト
}
```

### アクセント

```typescript
accent: {
  orange: '#F59E0B',  // お気に入り、警告
  red: '#EF4444',     // エラー、削除
  purple: '#8B5CF6',  // システムバッジ
}
```

### 色の使用ガイドライン

- **背景**: 白（#FFFFFF）を基調とし、カードも白
- **テキスト**: gray.800（見出し）、gray.700（本文）、gray.500（サブ）
- **プライマリ**: primary.500をメインに、ホバーで600、アクティブで700
- **エラー**: red.500
- **純粋なグレーを使用**: 緑のアンダートーンは不要

---

## 2. 影・角丸・余白

### シャドウ（コンポーネント別）

```typescript
shadows: {
  // 汎用
  sm: '0 1px 2px rgba(0, 0, 0, 0.05)',
  md: '0 1px 3px rgba(0, 0, 0, 0.10)',
  lg: '0 4px 6px rgba(0, 0, 0, 0.10)',
  xl: '0 8px 16px rgba(0, 0, 0, 0.15)',

  // コンポーネント別
  card: {
    default: '0 4px 16px rgba(0, 0, 0, 0.06)',
    hover: '0 8px 24px rgba(0, 0, 0, 0.10)',
  },
  button: {
    primary: '0 2px 4px rgba(16, 185, 129, 0.25)',
  },
  menu: '0 4px 16px rgba(0, 0, 0, 0.08)',
  dialog: '0 8px 24px rgba(0, 0, 0, 0.12)',
}
```

### 角丸

| 用途 | サイズ | PandaCSSトークン |
|------|--------|-----------------|
| カード、パネル | 16px | `2xl` |
| チップ、タグ、ボタン | 12px | `xl` |
| 入力フィールド | 8px | `lg` または `md` |

> **Note**: borderRadius は厳密なトークン使用の対象外。計算値（例: `calc(...)` やコンテキストに応じた値）の使用も許容される。

### セクション間の余白

| 場所 | トークン |
|------|---------| 
| 検索パネル → 結果ヘッダー | `mb: 'lg'` |
| 結果ヘッダー → カードリスト | `mb: 'lg'` |
| パネル内のセクション間 | divider の `my: 'lg'` |

---

## 3. コンポーネントパターン

### カード

```typescript
{
  bg: 'white',
  borderRadius: '16px',
  overflow: 'hidden',
  boxShadow: 'card.default',  // 0 4px 16px rgba(0, 0, 0, 0.06)
  transition: 'all {durations.slow} ease',
  _hover: {
    boxShadow: 'card.hover',  // 0 8px 24px rgba(0, 0, 0, 0.10)
    transform: 'translateY(-2px)',
  },
}
```

**重要**: border は使わない。輪郭は影のみで表現。

### チップ（選択可能なタグ）

```typescript
// 非選択
{
  bg: 'gray.100',
  color: 'gray.600',
  borderRadius: '12px',
  _hover: {
    bg: 'gray.200',
  },
}

// 選択時
{
  bg: 'primary.100',
  color: 'primary.800',
}
```

### 入力フィールド

```typescript
{
  px: 'md',
  py: 'sm',
  border: 'none',
  borderRadius: 'lg',
  bg: 'gray.100',
  _hover: { bg: 'gray.200' },
  _focus: {
    bg: 'gray.200',
    outline: '2px solid',
    outlineColor: 'primary.500',
  },
}
```

### ボタン

```typescript
// Primary
{
  bg: 'primary.500',
  color: 'white',
  _hover: { bg: 'primary.600' },
  _active: { bg: 'primary.700' },
  boxShadow: '0 2px 4px rgba(16, 185, 129, 0.25)',
}

// Secondary
{
  bg: 'white',
  color: 'gray.700',
  border: '1px solid',
  borderColor: 'gray.300',
  _hover: { bg: 'gray.50' },
}
```

### 区切り線

**CSS の border-top ではなく `<hr>` 要素を使用**（セマンティックHTML）

```tsx
<hr className={styles.divider} />
```

---

## 4. 禁止パターン

| 禁止 | 理由 | 代替 |
|------|------|------| 
| OKLCH形式 | コードベースはHEX | HEX形式を使用 |
| `border: 1px solid` でカード輪郭 | ボーダーレスUI原則に反する | shadow で表現 |
| ハードコードされた色を直接使用 | 一貫性が崩れる | セマンティックトークンを使用 |
| `w: '48px', h: '48px'` でアイコンサイズ | ページ間で不統一 | `fontSize` トークン |

---

## 5. 実装チェックリスト

### 必須（実装前に確認）
- [ ] 色はHEX形式でsemanticeTokensを使用しているか
- [ ] 影はコンポーネント別トークンを使用しているか
- [ ] カードに border を使っていないか（shadow で表現）
- [ ] 背景は#F5F7FA（淡い青みがかった白）を使用しているか

### 統一性（実装後に確認）
- [ ] シナリオ一覧とセッション一覧で同じスタイルを使っているか
- [ ] ボタンのバリアントは適切か

---

## 6. 設計原則

### デザインコンセプト

**モダン × ソフト × レイヤードUI**

| 原則 | 説明 |
|------|------|
| ボーダーレス | 境界線は原則使用しない。輪郭は影で表現 |
| ソフト | 角丸、柔らかい影で優しい印象 |
| レイヤード | 影の強弱で奥行きと階層を表現 |
| 淡い背景 | 淡い青みがかった白（#F5F7FA）でコンテンツを引き立てる |

### インタラクション

- **ホバー**: `translateY(-1〜2px)` + 影の強調
- **トランジション**: `all {durations.slow} ease`（カード）、`all {durations.normal} ease-in-out`（チップ）
- **フォーカス**: 2px のフォーカスリングで明示

### アクセシビリティ（WCAG AA）

- 通常テキスト: コントラスト比 4.5:1 以上
- 大きいテキスト: コントラスト比 3:1 以上
- UIコンポーネント: コントラスト比 3:1 以上

---

## 7. Pencil MCP連携

Pencilでデザインを作成する際は、以下のカラー値を使用:

| 用途 | HEX値 |
|------|-------|
| 背景 | `#F5F7FA` |
| カード | `#FFFFFF` |
| プライマリ | `#10B981` |
| プライマリホバー | `#059669` |
| テキスト（見出し） | `#1F2937` |
| テキスト（本文） | `#374151` |
| テキスト（サブ） | `#6B7280` |
| ボーダー | `#D1D5DB` |
| エラー | `#EF4444` |
| 警告 | `#F59E0B` |

Pencilのスタイルガイドタグを使用する場合は、上記の色を手動でオーバーライドすること。
