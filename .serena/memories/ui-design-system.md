# UIデザインシステム

本プロジェクトのUIデザイン仕様。**UI実装時は必ずこのファイルを参照すること。**

> **コンポーネントの詳細な挙動**（ホイール操作、キーボード操作等）は `ui-component-behavior` メモリを参照。

テーマ: **モダン × ソフト × レイヤードUI** - 淡い緑みがかった白背景、カスタムブランドグリーン（#059568）ベース

---

## 1. カラーパレット（最重要）

すべての色は **HEX形式** で定義。カスタムパレット（Tailwindではない）。

### 背景色

```typescript
bg: {
  page: '#f6f8f7',        // ページ背景（淡い緑みがかった白）
  card: '#FFFFFF',        // カード背景
  input: '#EAEBED',       // 入力フィールド（gray.100）
  disabled: '#D5D7DB',    // 無効状態（gray.200）
}
```

### プライマリ（カスタムブランドグリーン、#059568ベース）

```typescript
primary: {
  50:  '#E9FCF2',  // 最も淡い（選択状態の背景等）
  100: '#D1F5E3',  // チップ選択時
  200: '#AAE8C9',
  300: '#6FCEA3',
  400: '#34B181',
  500: '#059568',  // メインカラー（ボタン、アクティブ状態）
  600: '#0B7552',  // ホバー時
  700: '#085F41',  // アクティブ時
  800: '#074A33',  // テキスト用
  900: '#083826',
}
```

### グレー（H=264 blue-gray tint）

```typescript
gray: {
  50:  '#F6F7F7',  // 背景のバリエーション
  100: '#EAEBED',  // 入力フィールド背景
  200: '#D5D7DB',  // ボーダー、無効状態
  300: '#B4B7BF',  // ボーダー
  400: '#9398A3',  // プレースホルダー
  500: '#777E8C',  // サブテキスト
  600: '#5B6374',
  700: '#475061',  // 本文テキスト
  800: '#383F4C',  // 見出しテキスト
  900: '#292F3A',
}
```

### アクセント

```typescript
accent: {
  orange: '#A57230',   // 警告（orange.500）
  red: '#D54443',      // エラー、削除（red.500）
  purple: '#9659DA',   // システムバッジ（purple.500）
}
```

### その他のカラー

```typescript
orange: {
  50:  '#FEF5EC',
  100: '#FBE8D2',  // 警告背景
  200: '#F8D0A3',
  300: '#EEA74B',
  400: '#C78A3C',  // レーティング filled
  500: '#A57230',
  600: '#835923',
  700: '#6B471A',
  800: '#553711',  // 警告テキスト
}

red: {
  50:  '#FDF4F4',  // エラー背景
  100: '#FAE6E3',
  200: '#F6CCC8',
  300: '#EF9F98',
  400: '#E96C66',
  500: '#D54443',  // エラーデフォルト
  600: '#AA3433',  // エラーホバー、エラーテキスト
  700: '#8A2827',
  800: '#6F1D1D',  // エラーテキスト(dark)
}

purple: {
  50:  '#F8F5FD',
  100: '#EEE8F9',  // パープルサブトル
  500: '#9659DA',  // パープルデフォルト
  600: '#7A3DB8',  // パープルホバー
  800: '#4E2478',  // パープルテキスト
}

info: {
  50:  '#F3F7FD',
  100: '#E3ECF9',  // 情報背景
  200: '#C8D9F3',
  500: '#437BD9',  // 情報デフォルト
  600: '#2C60B5',  // 情報ホバー
  800: '#173C78',  // 情報テキスト
}
```

### 色の使用ガイドライン

- **背景**: 白（#FFFFFF）を基調とし、カードも白
- **テキスト**: gray.800（見出し）、gray.700（本文）、gray.500（サブ）
- **プライマリ**: primary.500をメインに、ホバーで600、アクティブで700
- **エラー**: red.500（#D54443）
- **blue-gray tintのグレーを使用**: 純粋なグレーではなくH=264の色相あり

---

## 2. 影・角丸・余白

### シャドウ（コンポーネント別）

```typescript
shadows: {
  // 汎用
  sm: '0 1px 2px rgba(0, 0, 0, 0.05)',
  md: '0 1px 3px rgba(0, 0, 0, 0.10)',
  lg: '0 4px 6px rgba(0, 0, 0, 0.10)',
  xl: '0 8px 16px rgba(0, 0, 0, 0.15)',

  // コンポーネント別
  card: {
    default: '0 4px 16px rgba(0, 0, 0, 0.06)',
    hover: '0 8px 24px rgba(0, 0, 0, 0.10)',
  },
  button: {
    primary: '0 2px 4px rgba(5, 149, 104, 0.25)',
    secondary: '0 1px 3px rgba(0, 0, 0, 0.10)',
    destructive: '0 2px 4px rgba(213, 68, 67, 0.25)',
  },
  menu: '0 4px 16px rgba(0, 0, 0, 0.08)',
  dialog: '0 8px 24px rgba(0, 0, 0, 0.12)',
  header: '0 2px 8px rgba(0, 0, 0, 0.05)',
  panel: '0 4px 16px rgba(0, 0, 0, 0.04)',
  toast: '0 4px 12px rgba(0, 0, 0, 0.08)',
  fab: '0 4px 12px rgba(5, 149, 104, 0.25)',
}
```

### 角丸

| 用途 | サイズ | PandaCSSトークン |
|------|--------|-----------------|
| カード、パネル | 16px | `2xl` |
| チップ、タグ、ボタン | 12px | `xl` |
| 入力フィールド | 8px | `lg` または `md` |

> **Note**: borderRadius は厳密なトークン使用の対象外。計算値（例: `calc(...)` やコンテキストに応じた値）の使用も許容される。

### セクション間の余白

| 場所 | トークン |
|------|---------|
| 検索パネル → 結果ヘッダー | `mb: 'lg'` |
| 結果ヘッダー → カードリスト | `mb: 'lg'` |
| パネル内のセクション間 | divider の `my: 'lg'` |

---

## 3. コンポーネントパターン

### カード

```typescript
{
  bg: 'white',
  borderRadius: '16px',
  overflow: 'hidden',
  boxShadow: 'card.default',  // 0 4px 16px rgba(0, 0, 0, 0.06)
  transition: 'all {durations.slow} ease',
  _hover: {
    boxShadow: 'card.hover',  // 0 8px 24px rgba(0, 0, 0, 0.10)
    transform: 'translateY(-2px)',
  },
}
```

**重要**: border は使わない。輪郭は影のみで表現。

### チップ（選択可能なタグ）

```typescript
// 非選択
{
  bg: 'gray.100',       // #EAEBED
  color: 'gray.600',    // #5B6374
  borderRadius: '12px',
  _hover: {
    bg: 'gray.200',     // #D5D7DB
  },
}

// 選択時
{
  bg: 'primary.100',    // #D1F5E3
  color: 'primary.800', // #074A33
}
```

### 入力フィールド

```typescript
{
  px: 'md',
  py: 'sm',
  border: 'none',
  borderRadius: 'lg',
  bg: 'gray.100',          // #EAEBED
  _hover: { bg: 'gray.200' },  // #D5D7DB
  _focus: {
    bg: 'gray.200',
    outline: '2px solid',
    outlineColor: 'primary.500',  // #059568
  },
}
```

### ボタン

```typescript
// Primary
{
  bg: 'primary.500',    // #059568
  color: 'white',
  _hover: { bg: 'primary.600' },  // #0B7552
  _active: { bg: 'primary.700' }, // #085F41
  boxShadow: '0 2px 4px rgba(5, 149, 104, 0.25)',
}

// Secondary
{
  bg: 'white',
  color: 'gray.700',    // #475061
  border: '1px solid',
  borderColor: 'gray.300',  // #B4B7BF
  _hover: { bg: 'gray.50' },  // #F6F7F7
}

// Destructive
{
  bg: 'red.500',         // #D54443
  color: 'white',
  _hover: { bg: 'red.600' },  // #AA3433
  boxShadow: '0 2px 4px rgba(213, 68, 67, 0.25)',
}
```

### 区切り線

**CSS の border-top ではなく `<hr>` 要素を使用**（セマンティックHTML）

```tsx
<hr className={styles.divider} />
```

---

## 4. 禁止パターン

| 禁止 | 理由 | 代替 |
|------|------|------|
| OKLCH形式 | コードベースはHEX | HEX形式を使用 |
| `border: 1px solid` でカード輪郭 | ボーダーレスUI原則に反する | shadow で表現 |
| ハードコードされた色を直接使用 | 一貫性が崩れる | セマンティックトークンを使用 |
| `w: '48px', h: '48px'` でアイコンサイズ | ページ間で不統一 | `fontSize` トークン |
| Tailwindカラー値の使用 | 実装はカスタムパレット | `colors.ts`の値を使用 |

---

## 5. 実装チェックリスト

### 必須（実装前に確認）
- [ ] 色はHEX形式でsemanticTokensを使用しているか
- [ ] 影はコンポーネント別トークンを使用しているか
- [ ] カードに border を使っていないか（shadow で表現）
- [ ] 背景は#f6f8f7（淡い緑みがかった白）を使用しているか

### 統一性（実装後に確認）
- [ ] シナリオ一覧とセッション一覧で同じスタイルを使っているか
- [ ] ボタンのバリアントは適切か

---

## 6. 設計原則

### デザインコンセプト

**モダン × ソフト × レイヤードUI**

| 原則 | 説明 |
|------|------|
| ボーダーレス | 境界線は原則使用しない。輪郭は影で表現 |
| ソフト | 角丸、柔らかい影で優しい印象 |
| レイヤード | 影の強弱で奥行きと階層を表現 |
| 淡い背景 | 淡い緑みがかった白（#f6f8f7）でコンテンツを引き立てる |

### インタラクション

- **ホバー**: `translateY(-1〜2px)` + 影の強調
- **トランジション**: `all {durations.slow} ease`（カード）、`all {durations.normal} ease-in-out`（チップ）
- **フォーカス**: 2px のフォーカスリングで明示

### アクセシビリティ（WCAG AA）

- 通常テキスト: コントラスト比 4.5:1 以上
- 大きいテキスト: コントラスト比 3:1 以上
- UIコンポーネント: コントラスト比 3:1 以上

---

## 7. Pencil MCP連携

Pencilでデザインを作成する際は、以下のカラー値を使用:

| 用途 | HEX値 |
|------|-------|
| 背景 | `#f6f8f7` |
| カード | `#FFFFFF` |
| プライマリ | `#059568` |
| プライマリホバー | `#0B7552` |
| テキスト（見出し） | `#383F4C` |
| テキスト（本文） | `#475061` |
| テキスト（サブ） | `#777E8C` |
| ボーダー | `#B4B7BF` |
| エラー | `#D54443` |
| 警告 | `#A57230` |
| パープル | `#9659DA` |
| 情報 | `#437BD9` |

Pencilのライブラリカラーを設定する場合は、上記の値を使用すること。
