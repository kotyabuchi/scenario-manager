# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—ç®¡ç†

> **ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯è¤‡æ•°ã®Claude Codeã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§å…±æœ‰ã•ã‚Œã¾ã™**
> ã‚¿ã‚¹ã‚¯ç€æ‰‹æ™‚ã¯ `â¬œ` â†’ `ğŸ”„` ã«ã€å®Œäº†æ™‚ã¯ `âœ…` ã«å¤‰æ›´ã—ã¦ãã ã•ã„

---

## TDDé–‹ç™ºãƒ•ãƒ­ãƒ¼

```
/requirements â†’ /gen-test â†’ tdd-implementer â†’ tdd-refactorer
    â†“              â†“              â†“                 â†“
 è¦ä»¶å®šç¾©        Red           Green            Refactor
 (ã‚¹ã‚­ãƒ«)      (ã‚¹ã‚­ãƒ«)    (ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ)    (ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ)
```

| åå‰ | ç¨®åˆ¥ | ãƒ•ã‚§ãƒ¼ã‚º | èª¬æ˜ |
|------|------|---------|------|
| `/requirements` | ã‚¹ã‚­ãƒ« | è¦ä»¶å®šç¾© | ä»•æ§˜ç­–å®š â†’ `.claude/requirements/` |
| `/gen-test` | ã‚¹ã‚­ãƒ« | Red | å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã |
| `tdd-implementer` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | Green | ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°å®Ÿè£…ï¼ˆè‡ªå¾‹å®Ÿè¡Œï¼‰ |
| `tdd-refactorer` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | Refactor | ãƒ†ã‚¹ãƒˆç¶­æŒã—ãªãŒã‚‰å“è³ªæ”¹å–„ï¼ˆè‡ªå¾‹å®Ÿè¡Œï¼‰ |
| `/fix-bug` | ã‚¹ã‚­ãƒ« | ãƒã‚°ä¿®æ­£ | å†ç¾ãƒ†ã‚¹ãƒˆä½œæˆ â†’ ä¿®æ­£ â†’ æ¤œè¨¼ |

**è‡ªå‹•é€£æº**: `tdd-implementer` ãŒéå‰°å®Ÿè£…ã‚’æ¤œå‡ºã™ã‚‹ã¨ `tdd-refactorer` ã‚’è‡ªå‹•å‘¼ã³å‡ºã—ï¼ˆæœ€å¤§3å›ï¼‰

---

## TDDé€²æ—

> **å‡¡ä¾‹**: â¬œ æœªç€æ‰‹ / ğŸ”„ ä½œæ¥­ä¸­ / âœ… å®Œäº†
>
> **è¦ä»¶å®šç¾©æ›¸**: `.claude/requirements/` é…ä¸‹

### ã‚·ãƒŠãƒªã‚ªæ¤œç´¢ï¼ˆrequirements-v1.md Section 5ï¼‰

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| searchFormSchema | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| searchScenarios | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| toSearchParams | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getAllSystems | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getAllTags | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/app/(main)/scenarios/__tests__/searchFormSchema.test.ts`
- `src/app/(main)/scenarios/__tests__/searchScenarios.test.ts`
- `src/app/(main)/scenarios/__tests__/searchParams.test.ts`
- `src/app/(main)/scenarios/__tests__/masterData.test.ts`

---

### ã‚·ãƒŠãƒªã‚ªç™»éŒ²ï¼ˆrequirements-scenario-new.mdï¼‰

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| scenarioFormSchema | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| createScenario | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getUserByDiscordId | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| checkScenarioNameDuplicate | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº†ï¼ˆçµ±åˆæ¸ˆï¼‰ |
| checkDistributeUrlDuplicate | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº†ï¼ˆçµ±åˆæ¸ˆï¼‰ |
| checkRateLimit | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº†ï¼ˆçµ±åˆæ¸ˆï¼‰ |
| createScenarioAction | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº†ï¼ˆçµ±åˆæ¸ˆï¼‰ |

**è¦ä»¶å®šç¾©æ›¸**: `.claude/requirements/requirements-scenario-new.md`

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/app/(main)/scenarios/new/__tests__/schema.test.ts`
- `src/app/(main)/scenarios/new/__tests__/adapter.test.ts`
- `src/app/(main)/scenarios/new/__tests__/duplicateCheck.test.ts`
- `src/app/(main)/scenarios/new/__tests__/rateLimit.test.ts`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/app/(main)/scenarios/adapter.ts` - é‡è¤‡ãƒã‚§ãƒƒã‚¯é–¢æ•°
- `src/lib/rateLimit.ts` - ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆé–¢æ•°

---

### ã‚·ãƒŠãƒªã‚ªè©³ç´°ï¼ˆrequirements-v1.md Section 10ï¼‰

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| getScenarioDetail | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getScenarioReviews | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getScenarioSessions | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getScenarioVideoLinks | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getUserScenarioPreference | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getUserByDiscordId | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| toggleFavorite | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| togglePlayed | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/app/(main)/scenarios/[id]/__tests__/adapter.test.ts`

---

### ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§ï¼ˆrequirements-session-list.mdï¼‰

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| searchFormSchema | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| searchParamsParsers | âœ… | â¬œ | â¬œ | âœ… | â¬œ | å®Ÿè£…æ¸ˆï¼ˆãƒ†ã‚¹ãƒˆæœªï¼‰ |
| searchPublicSessions | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getUpcomingSessions | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getHistorySessions | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getCalendarSessions | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| getAllSystems | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |

**è¦ä»¶å®šç¾©æ›¸**: `.claude/requirements/requirements-session-list.md`

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/app/(main)/sessions/__tests__/adapter.test.ts`
- `src/app/(main)/sessions/_components/schema.ts` ï¼ˆã‚¹ã‚­ãƒ¼ãƒå®šç¾©ï¼‰

---

### ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼ˆrequirements-session-flow.mdï¼‰

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| sessionFormSchema | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| createSession | âœ… | âœ… | âœ… | âœ… | â¬œ | Greenï¼ˆå®Ÿè£…æ¸ˆï¼‰ |
| getSessionById | âœ… | âœ… | âœ… | âœ… | â¬œ | Greenï¼ˆå®Ÿè£…æ¸ˆï¼‰ |
| updateSession | âœ… | â¬œ | â¬œ | â¬œ | â¬œ | è¦ä»¶å®šç¾©æ¸ˆ |
| æ—¥ç¨‹èª¿æ•´æ©Ÿèƒ½ | âœ… | â¬œ | â¬œ | â¬œ | â¬œ | è¦ä»¶å®šç¾©æ¸ˆ |
| applyToSession | âœ… | âœ… | âœ… | âœ… | â¬œ | Greenï¼ˆå®Ÿè£…æ¸ˆï¼‰ |
| approveApplication | âœ… | âœ… | âœ… | âœ… | â¬œ | Greenï¼ˆå®Ÿè£…æ¸ˆï¼‰ |
| rejectApplication | âœ… | âœ… | âœ… | âœ… | â¬œ | Greenï¼ˆå®Ÿè£…æ¸ˆï¼‰ |
| withdrawFromSession | âœ… | âœ… | âœ… | âœ… | â¬œ | Greenï¼ˆå®Ÿè£…æ¸ˆï¼‰ |
| cancelApplication | âœ… | âœ… | âœ… | âœ… | â¬œ | Greenï¼ˆå®Ÿè£…æ¸ˆï¼‰ |
| cancelSession | âœ… | âœ… | âœ… | âœ… | â¬œ | Greenï¼ˆå®Ÿè£…æ¸ˆï¼‰ |

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/app/(main)/sessions/new/__tests__/schema.test.ts`
- `src/app/(main)/sessions/new/__tests__/adapter.test.ts`
- `src/app/(main)/sessions/__tests__/participantAdapter.test.ts`

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/app/(main)/sessions/new/adapter.ts` - ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆãƒ»å–å¾—
- `src/app/(main)/sessions/participantAdapter.ts` - å‚åŠ ç”³è«‹ç®¡ç†

---

### èªè¨¼ç”»é¢ï¼ˆrequirements-auth.mdï¼‰

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| signupFormSchema (Step1) | âœ… | â¬œ | â¬œ | â¬œ | â¬œ | è¦ä»¶å®šç¾©æ¸ˆ |
| signupStep2Schema | âœ… | â¬œ | â¬œ | â¬œ | â¬œ | è¦ä»¶å®šç¾©æ¸ˆ |
| checkUserNameAvailability | âœ… | â¬œ | â¬œ | â¬œ | â¬œ | è¦ä»¶å®šç¾©æ¸ˆ |
| createUser | âœ… | â¬œ | â¬œ | âœ… | â¬œ | è¦ä»¶å®šç¾©æ¸ˆï¼ˆæ—¢å­˜å®Ÿè£…ã‚ã‚Šï¼‰ |
| generateUserName | âœ… | â¬œ | â¬œ | â¬œ | â¬œ | è¦ä»¶å®šç¾©æ¸ˆ |
| AuthRedirect | âœ… | â¬œ | â¬œ | â¬œ | â¬œ | è¦ä»¶å®šç¾©æ¸ˆ |

**è¦ä»¶å®šç¾©æ›¸**: `.claude/requirements/requirements-auth.md`

---

### ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| profileFormSchema | â¬œ | âœ… | âœ… | âœ… | â¬œ | å®Œäº†ï¼ˆè¦ä»¶æœªå®šç¾©ï¼‰ |
| updateUserProfile | â¬œ | â¬œ | â¬œ | âœ… | â¬œ | å®Ÿè£…æ¸ˆï¼ˆè¦ä»¶ãƒ»ãƒ†ã‚¹ãƒˆæœªï¼‰ |
| getUserById | â¬œ | â¬œ | â¬œ | âœ… | â¬œ | å®Ÿè£…æ¸ˆï¼ˆè¦ä»¶ãƒ»ãƒ†ã‚¹ãƒˆæœªï¼‰ |

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/components/blocks/Profile/__tests__/schema.test.ts`

---

### ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ï¼ˆrequirements-review-ui.mdï¼‰

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| reviewFormSchema | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| createReview | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| updateReview | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| deleteReview | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/app/(main)/scenarios/[id]/__tests__/schema.test.ts`
- `src/app/(main)/scenarios/[id]/__tests__/adapter.test.ts`

---

### ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ©Ÿèƒ½ï¼ˆrequirements-feedback.mdï¼‰

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| feedbackFormSchema | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| createFeedbackAction | âœ… | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| FeedbackModal | âœ… | â¬œ | â¬œ | âœ… | â¬œ | å®Ÿè£…æ¸ˆï¼ˆãƒ†ã‚¹ãƒˆæœªï¼‰ |
| FeedbackButton | âœ… | â¬œ | â¬œ | âœ… | â¬œ | å»ƒæ­¢äºˆå®šï¼ˆSpeedDialFABã«çµ±åˆï¼‰ |

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/components/blocks/FeedbackModal/__tests__/schema.test.ts`
- `src/components/blocks/FeedbackModal/__tests__/actions.test.ts`

**UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `src/components/blocks/FeedbackButton/` - å³ä¸‹å›ºå®šã®FABãƒœã‚¿ãƒ³ â†’ **SpeedDialFABã«ç½®æ›äºˆå®š**
- `src/components/blocks/FeedbackModal/` - ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æŠ•ç¨¿ãƒ¢ãƒ¼ãƒ€ãƒ«

---

### FABãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ï¼ˆrequirements-fab-redesign.mdï¼‰

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| SpeedDialFAB | âœ… | âœ… | âœ… | âœ… | â¬œ | çµ±åˆå®Œäº† |
| useSpeedDial | âœ… | âœ… | âœ… | âœ… | â¬œ | çµ±åˆå®Œäº† |
| shareCurrentPage | âœ… | âœ… | âœ… | âœ… | â¬œ | çµ±åˆå®Œäº† |
| BottomNavçµ±åˆ | âœ… | âœ… | âœ… | âœ… | â¬œ | çµ±åˆå®Œäº† |
| QuickSearchModal | âœ… | â¬œ | â¬œ | â¬œ | â¬œ | è¦ä»¶å®šç¾©æ¸ˆï¼ˆPhase 2ï¼‰ |
| searchScenariosQuick | âœ… | â¬œ | â¬œ | â¬œ | â¬œ | è¦ä»¶å®šç¾©æ¸ˆï¼ˆPhase 2ï¼‰ |

**è¦ä»¶å®šç¾©æ›¸**: `.claude/requirements/requirements-fab-redesign.md`

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/components/blocks/SpeedDialFAB/__tests__/useSpeedDial.test.ts` - ãƒ•ãƒƒã‚¯ Unit Tests (6é …ç›®)
- `src/components/blocks/SpeedDialFAB/__tests__/share.test.ts` - ã‚·ã‚§ã‚¢ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ Unit Tests (3é …ç›®)
- `src/components/blocks/SpeedDialFAB/SpeedDialFAB.test.tsx` - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ Tests (14é …ç›®)
- `src/components/blocks/SpeedDialFAB/SpeedDialFAB.stories.tsx` - Storybook Stories

---

### åŸºç›¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

| å¯¾è±¡ | è¦ä»¶å®šç¾© | ãƒ†ã‚¹ãƒˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®Ÿè£… | æ©Ÿèƒ½å®Ÿè£… | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ | çŠ¶æ…‹ |
|------|:-------:|:--------:|:--------:|:-------:|:---------:|------|
| Button | â¬œ | âœ… | âœ… | âœ… | â¬œ | å®Œäº† |
| Card | â¬œ | â¬œ | â¬œ | âœ… | â¬œ | å®Ÿè£…æ¸ˆï¼ˆãƒ†ã‚¹ãƒˆæœªï¼‰ |
| Chip | â¬œ | â¬œ | â¬œ | âœ… | â¬œ | å®Ÿè£…æ¸ˆï¼ˆãƒ†ã‚¹ãƒˆæœªï¼‰ |
| Modal | â¬œ | â¬œ | â¬œ | âœ… | â¬œ | å®Ÿè£…æ¸ˆï¼ˆãƒ†ã‚¹ãƒˆæœªï¼‰ |
| Select | âœ… | âœ… | âœ… | âœ… | â¬œ | Greenå®Œäº†ï¼ˆã‚¹ã‚¿ã‚¤ãƒ«æ”¹å–„ï¼‰ |

**è¦ä»¶å®šç¾©æ›¸**:
- `Select`: `.claude/requirements/components/Select.md`

**ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/components/elements/button/button.test.tsx`

---

## ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»è¨­å®šï¼ˆTDDå¯¾è±¡å¤–ï¼‰

### DBæ¥ç¶šãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ âœ…
- [x] Supabaseæ¥ç¶šè¨­å®š
- [x] Drizzle ORMè¨­å®š
- [x] ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
- [x] ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿æŠ•å…¥

### èªè¨¼è¨­å®š âœ…
- [x] Supabase Authè¨­å®š
- [x] Discord OAuthé€£æº
- [x] èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢

### RLSãƒãƒªã‚·ãƒ¼ï¼ˆæœªå®Ÿæ–½ï¼‰
- [ ] usersãƒ†ãƒ¼ãƒ–ãƒ«
- [ ] scenariosãƒ†ãƒ¼ãƒ–ãƒ«
- [ ] sessionsãƒ†ãƒ¼ãƒ–ãƒ«

### ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š âœ…
- [x] Cloudflare Pagesè¨­å®š
- [x] Hyperdriveè¨­å®š
- [x] GitHub Actions

---

## UI/UXãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

**ãƒ¬ãƒ“ãƒ¥ãƒ¼æ—¥**: 2026-01-19
**è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ**: [UI_REVIEW_REPORT.md](../UI_REVIEW_REPORT.md)

| å„ªå…ˆåº¦ | å®Œäº† | æ®‹ã‚Š |
|--------|------|------|
| P0: è‡´å‘½çš„ | 12ä»¶ | 0ä»¶ |
| P1: é‡è¦ | 12ä»¶ | 6ä»¶ |
| P2: æ¨å¥¨ | 0ä»¶ | 8ä»¶ |

**P1æ®‹ã‚¿ã‚¹ã‚¯**:
- [ ] P1-006: ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸CTAãƒœã‚¿ãƒ³ã®éšå±¤æ˜ç¢ºåŒ–
- [ ] P1-007: Login/Signupãƒœã‚¿ãƒ³ã‚’ãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã«ç§»å‹•
- [ ] P1-014: ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã‚’è¿½åŠ 
- [ ] P1-016: ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆãƒœã‚¿ãƒ³ã®é…ç½®ã‚’æ”¹å–„
- [ ] P1-017: ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å®Ÿè£…

---

## ä½œæ¥­ãƒ­ã‚°

| æ—¥æ™‚ | å†…å®¹ |
|------|------|
| 2026-01-16 | Phase 1 å®Œäº†ï¼ˆDBæ¥ç¶šãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ |
| 2026-01-16 | Phase 2 èªè¨¼è¨­å®šå®Œäº† |
| 2026-01-17 | ã‚·ãƒŠãƒªã‚ªæ¤œç´¢æ©Ÿèƒ½å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆå®Œäº† |
| 2026-01-17 | ã‚·ãƒŠãƒªã‚ªè©³ç´°ç”»é¢å®Ÿè£… |
| 2026-01-19 | UI/UXãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆP0å®Œäº†ï¼‰ |
| 2026-01-20 | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢è¨­è¨ˆå¤‰æ›´å®Œäº† |
| 2026-01-21 | ã‚·ãƒŠãƒªã‚ªç™»éŒ²ç”»é¢å®Œäº† |
| 2026-01-22 | TDDé€²æ—ç®¡ç†å½¢å¼ã«çµ±ä¸€ |
| 2026-01-22 | ãƒ¬ãƒ“ãƒ¥ãƒ¼CRUDæ©Ÿèƒ½ã‚’è¿½åŠ ï¼ˆschema + adapter + testsï¼‰ |
| 2026-01-22 | ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ©Ÿèƒ½ã®ã‚¹ã‚­ãƒ¼ãƒãƒ†ã‚¹ãƒˆã‚’è¿½åŠ  |
| 2026-01-22 | ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹Ÿé›†ãƒ•ã‚©ãƒ¼ãƒ ã‚¹ã‚­ãƒ¼ãƒã‚’è¿½åŠ ï¼ˆschema + testsï¼‰ |
| 2026-01-22 | TDD Red: ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ»å‚åŠ ç”³è«‹æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ  |
| 2026-01-22 | createFeedbackActionã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ  |
| 2026-01-22 | TDD Green: ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ»å‚åŠ ç”³è«‹æ©Ÿèƒ½ã®å®Ÿè£…å®Œäº† |
| 2026-01-27 | ã‚·ãƒŠãƒªã‚ªç™»éŒ²ç”»é¢ã®è©³ç´°è¦ä»¶å®šç¾©æ›¸ã‚’ä½œæˆï¼ˆé‡è¤‡ãƒã‚§ãƒƒã‚¯ãƒ»ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆè¿½åŠ ï¼‰ |
| 2026-01-27 | TDD Red: ã‚·ãƒŠãƒªã‚ªç™»éŒ²ã®å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆè¿½åŠ ã€é‡è¤‡ãƒã‚§ãƒƒã‚¯ãƒ»ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã®ãƒ†ã‚¹ãƒˆä½œæˆ |
| 2026-01-27 | TDD Green: é‡è¤‡ãƒã‚§ãƒƒã‚¯ãƒ»ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆå®Ÿè£…å®Œäº†ï¼ˆadapter.ts, rateLimit.tsï¼‰ |
| 2026-01-27 | ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§ç”»é¢ã®å€‹åˆ¥è¦ä»¶å®šç¾©æ›¸ã‚’ä½œæˆï¼ˆrequirements-session-list.mdï¼‰ |
| 2026-01-27 | Server Actionçµ±åˆ: é‡è¤‡ãƒã‚§ãƒƒã‚¯ãƒ»ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã‚’createScenarioActionã«çµ„ã¿è¾¼ã¿ |
| 2026-01-27 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ”¹å–„: useSystemMessageã§ã‚¨ãƒ©ãƒ¼ãƒ»æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º |

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### å„ªå…ˆåº¦A: TDD Refactorï¼ˆå“è³ªæ”¹å–„ï¼‰
Green phaseã®å®Ÿè£…ãŒå®Œäº†ã€‚ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾…ã¡:
1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†æ©Ÿèƒ½ - é‡è¤‡ã‚³ãƒ¼ãƒ‰ã®æŠ½å‡ºã€å‘½åæ”¹å–„
2. å‚åŠ ç”³è«‹æ©Ÿèƒ½ - å…±é€šå‡¦ç†ã®çµ±åˆ

### å„ªå…ˆåº¦B: è¿½åŠ ãƒ†ã‚¹ãƒˆ
æ—¢å­˜å®Ÿè£…ã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å‘ä¸Š:
1. `createScenario` ã®ãƒ†ã‚¹ãƒˆä½œæˆ
2. ã‚·ãƒŠãƒªã‚ªè©³ç´°ç³»é–¢æ•°ã®ãƒ†ã‚¹ãƒˆä½œæˆ
3. ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§ç³»é–¢æ•°ã®ãƒ†ã‚¹ãƒˆä½œæˆ

### å„ªå…ˆåº¦C: æœªå®Œäº†ã‚¿ã‚¹ã‚¯
1. ã‚·ãƒŠãƒªã‚ªç·¨é›†ç”»é¢
2. RLSãƒãƒªã‚·ãƒ¼è¨­å®š
3. UI/UXãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ®‹ã‚¿ã‚¹ã‚¯
4. FilterBottomSheet ã«ã‚¹ãƒ¯ã‚¤ãƒ—ãƒ€ã‚¦ãƒ³ã§é–‰ã˜ã‚‹ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼ã‚’è¿½åŠ ï¼ˆãƒãƒ³ãƒ‰ãƒ«ãƒãƒ¼ã¯è¦‹ãŸç›®ã®ã¿ã§æœªå®Ÿè£…ï¼‰

---

## ã‚·ãƒŠãƒªã‚ªè‡ªå‹•ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½

**è¨ˆç”»æ›¸**: `docs/plans/scenario-auto-import.md`

### å®Ÿè£…é€²æ—

| ã‚¹ãƒ†ãƒƒãƒ— | å†…å®¹ | çŠ¶æ…‹ |
|---------|------|------|
| Step 1 | DBã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ï¼ˆsource_type, source_url, source_fetched_atï¼‰ | âœ… |
| Step 1.5 | HTMLãƒ‘ãƒ¼ã‚µãƒ¼ PoCï¼ˆcheerio + Edge Runtimeï¼‰ | âœ… |
| Step 2 | å¤–éƒ¨ã‚µã‚¤ãƒˆãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…ï¼ˆurl-validator, sanitizer, booth/talto-parserï¼‰ | âœ… |
| Step 3 | ã‚¤ãƒ³ãƒãƒ¼ãƒˆç™»éŒ²ãƒšãƒ¼ã‚¸ï¼ˆ/scenarios/importï¼‰ | âœ… |
| Step 4 | ã‚·ãƒŠãƒªã‚ªä¸€è¦§ãƒšãƒ¼ã‚¸ã¸ã®å°ç·šè¿½åŠ  | âœ… |
| Step 5 | UIæ”¹å–„ï¼ˆé…å¸ƒå…ƒãƒªãƒ³ã‚¯è¡¨ç¤ºã€å‡ºå…¸æƒ…å ±ï¼‰ | ğŸ”„ |
| Step 6 | åˆ©ç”¨è¦ç´„ãƒ»é€šå ±æ©Ÿèƒ½ | â¬œ |

### åˆ©ç”¨è¦ç´„èª¿æŸ»ï¼ˆ2026-02-10 å®Œäº†ï¼‰

| ã‚µã‚¤ãƒˆ | è¦ç´„ç¢ºèª | robots.txt | ãƒªã‚¹ã‚¯è©•ä¾¡ | äº‹å‰é€£çµ¡ |
|--------|:-------:|:----------:|-----------|:-------:|
| BOOTHï¼ˆpixivï¼‰ | âœ… | âœ… å•†å“ãƒšãƒ¼ã‚¸åˆ¶é™ãªã— | ä½ï¼ˆ2025å¹´10æœˆã«ã€Œå¸¸è­˜çš„ãªã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æ­“è¿ã€æ–¹é‡ï¼‰ | â¬œ |
| TALTOï¼ˆã‚³ã‚³ãƒ•ã‚©ãƒªã‚¢ï¼‰ | âœ… | âœ… /projects/* è¨±å¯ | ä½ã€œä¸­ï¼ˆã€Œæƒ…å ±åé›†ã€æ¡é …ã®è§£é‡ˆã«å¹…ã‚ã‚Šï¼‰ | â¬œ |

**ã€Œå•†æ¥­ç›®çš„ã€æ¡é …**: scenario-managerã¯ç®¡ç†ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚ŠBOOTH/TALTOã¨ç«¶åˆã—ãªã„ã€‚äº‹å®Ÿæƒ…å ±ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å‚ç…§ã®ã¿ã§ã€Œã‚µãƒ¼ãƒ“ã‚¹ã®å•†æ¥­åˆ©ç”¨ã€ã«ã¯éè©²å½“ â†’ ãƒªã‚¹ã‚¯ä½

### æ®‹ã‚¿ã‚¹ã‚¯ï¼ˆãƒªãƒªãƒ¼ã‚¹å‰ï¼‰

- [ ] pixivç¤¾ï¼ˆBOOTHï¼‰ã¸ã®äº‹å‰é€£çµ¡ãƒ»è¨±è«¾ç¢ºèª
- [ ] ã‚³ã‚³ãƒ•ã‚©ãƒªã‚¢ç¤¾ï¼ˆTALTOï¼‰ã¸ã®äº‹å‰é€£çµ¡ãƒ»è¨±è«¾ç¢ºèª
- [ ] é€£çµ¡çµæœã«å¿œã˜ãŸå¯¾å¿œï¼ˆè¨±è«¾â†’å…¬é–‹ / æ¡ä»¶ä»˜ãâ†’èª¿æ•´ / æ‹’å¦â†’ãƒ‘ãƒ¼ã‚µãƒ¼ç„¡åŠ¹åŒ–ï¼‰
