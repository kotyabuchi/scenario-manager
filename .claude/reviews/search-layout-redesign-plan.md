# 検索画面レイアウト改修計画（レビュー対象）

> **レビュー依頼**: この計画の問題点、見落とし、改善点を指摘してください。

## 背景・目的

シナリオ・セッション検索画面の画面幅有効活用のため、レイアウトを改修する。

**現状の問題**:
- 上部に検索エリア、下部に結果という垂直スタック型
- 画面幅が広い場合に左右の余白が無駄になる
- 詳細条件が折りたたみ式で発見性が低い

**改修目標**:
- 上部にキーワード検索、左サイドバーに詳細条件、右側に結果
- Steam/itch.io風のタグ重視UIを実現
- 画面幅を有効活用

## 確定仕様

| 項目 | 内容 |
|------|------|
| レイアウト | 上部キーワード検索 + 左サイドバー + 右側結果グリッド |
| サイドバー表示 | デスクトップ: 常時表示（幅280px） / モバイル: ボトムシート |
| フィルター適用 | 即時適用（選択した瞬間に結果更新） |
| 参考UI | Steam/itch.io（タグ重視、ゲームカタログ型） |

## レイアウト構造

### デスクトップ（768px以上）

```
+----------------------------------------------------------+
|  GlobalHeader                                             |
+----------------------------------------------------------+
|  [🔍 シナリオを検索...]                    [検索ボタン]   |
+----------------------------------------------------------+
|          |                                               |
| サイド   |  検索結果: 42件            [ソート▼]        |
| バー     |  ┌────────┐ ┌────────┐ ┌────────┐           |
| (280px)  |  │ Card   │ │ Card   │ │ Card   │           |
|          |  └────────┘ └────────┘ └────────┘           |
| [システム]|  ┌────────┐ ┌────────┐ ┌────────┐           |
| [タグ   ]|  │ Card   │ │ Card   │ │ Card   │           |
| [人数   ]|  └────────┘ └────────┘ └────────┘           |
| [時間   ]|                                               |
|          |  [もっと見る]                                 |
+----------------------------------------------------------+
```

### モバイル（768px未満）

```
+------------------+
| GlobalHeader     |
+------------------+
| [🔍 検索...]     |
+------------------+
| [フィルター] 42件|
| ┌──────────────┐|
| │    Card      │|
| └──────────────┘|
+------------------+

↓ [フィルター]タップ時 → ボトムシートが下からスライドアップ
```

## サイドバーフィルター構成

| フィルター | 形式 | 詳細 |
|-----------|------|------|
| システム選択 | チップ選択（複数） | 人気5件 + 「すべて表示」 |
| タグ（ジャンル） | タグクラウド（Steam風） | 人気8件 + 「すべて表示」 |
| プレイ人数 | レンジスライダー | 1〜10人 |
| プレイ時間 | チップ選択（単一） | 〜1h / 1〜3h / 3〜6h / 6h〜 |

## 実装ファイル

### 変更対象
- `src/app/(main)/scenarios/_components/ScenariosContent.tsx` - レイアウト構造変更
- `src/app/(main)/scenarios/_components/SearchPanel.tsx` - キーワードのみに簡略化
- `src/app/(main)/scenarios/_components/styles.ts` - 新スタイル

### 新規作成
- `src/components/blocks/FilterSidebar/` - サイドバーコンポーネント
- `src/components/blocks/FilterBottomSheet/` - モバイル用ボトムシート

## 実装ステップ

1. **Phase 1**: Pencilデザイン更新
2. **Phase 2**: FilterSidebar, TagCloud, FilterBottomSheetコンポーネント作成
3. **Phase 3**: ScenariosContentのレイアウト統合
4. **Phase 4**: セッション検索への展開

---

## レビュー観点（参考）

1. **要件の抜け漏れ**: 考慮すべきエッジケースや状態は？
2. **技術的な問題**: 実装上の課題や懸念点は？
3. **UX上の問題**: ユーザー体験で改善すべき点は？
4. **既存パターンとの整合性**: プロジェクトの設計方針と矛盾はないか？
5. **影響範囲**: 見落としている影響箇所はないか？
